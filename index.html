<!DOCTYPE html>

<html lang="en">

    <!-- Head Start -->

    <head>

        <!-- Meta Information -->

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="An exiting fantasy card battle game.">
        <meta name="keywords" content="card, battle, battle, game, card game, play, gaming">
        <meta name="author" content="Dominik Wulf">

        <!-- Favicons -->

        <link rel="apple-touch-icon" sizes="180x180" href="assets/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/favicons/favicon-16x16.png">
        <link rel="manifest" href="assets/favicons/site.webmanifest">
        <link rel="mask-icon" href="assets/favicons/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="assets/favicons/favicon.ico">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-config" content="assets/favicons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

        <!-- Site Title -->

        <title>Steampunk Struggle</title>

        <!-- Link Stylesheet -->

        <link rel="stylesheet" href="assets/css/style.css">

    </head>

    <!-- Head End -->

    <!-- Body Start -->

    <body>

        <!-- Stun Popup Start -->

        <div id="stun-popup-handler">

            <div id="stun-popup">

                <h2>Stunned</h2>
                <p>You are stunned and cannot attack at the moment.</p>
                <button onclick="document.getElementById('stun-popup-handler').style.display = 'none'"><i class="fa-solid fa-xmark"></i></button>

            </div>

        </div>

        <!-- Stun Popup Start -->

        <!-- Win and Lose Popup Start -->

        <div id="win-lose-popup">

            <h2>Game over!</h2>
            <p id="win-lose-message"></p>
            <button aria-label="Reload page to start new game" onclick="reloadDocument()">New game</button>

        </div>

        <!-- Win and Lose Popup End -->

        <!-- Summary Popup Start -->

        <div id="popup">

            <h2>Phase summary</h2>
            <p id="damage-summary"></p>

            <div id="effect-text"></div>

            <p>Press button to start next phase!</p>
            <button aria-label="Start next phase" id="next-phase-button" onclick="changePhase()">Next phase</button>

        </div>

        <!-- Summary Popup End -->

        <!-- Help Popup Start -->

        <div id="popup-handler">

            <div id="help-popup">

                <button aria-label="Close help popup" onclick="clickPopup()"><i class="fa-solid fa-xmark"></i></button>
    
                <h2>How to play</h2>
    
                <p>Welcome to Steampunk Struggle, a thrilling card-based combat game set in a world of gears, steam-powered contraptions, 
                and strategic duels! In this game, players must carefully balance attack and defense, using a unique mix of cards, 
                skills, and timing to outmaneuver their enemies. Below you'll find the core rules and mechanics of the game, ensuring 
                you're fully equipped for battle.</p>
    
                <h3>Objective</h3>
                <p>The goal of Steampunk Struggle is simple: defeat the enemy before they deplete your health to zero or before you run out 
                of cards. Your success will depend on how well you manage both your attack and defense phases, as well as the 
                skills your cards possess.</p>
    
                <h3>Game Setup</h3>
                <p>You start the game with a deck of cards, an initial pool of Health Points (HP), and a randomly 
                assigned enemy to face. Your enemies have varying attack and defense values, as well as special skills that can turn the tide of battle.
                The game alternates between two distinct phases: the Attack Phase and the Defense Phase. The damage interface changes
                colours depending on the current phase. The attack phase highlights in a light red, the defense phase in a light blue.</p>
    
                <h3>Attack Phase</h3>
                <p>During the attack phase, you can play cards from your hand to the Attack Stack to deal damage to the enemy. 
                Each card has an Attack Value, and the total attack strength is the sum of all the cards you place in this stack. 
                Once your attack stack is ready, you'll deal damage based on the total Attack Value minus the enemy's Defense Value. 
                Any remaining damage is subtracted from the enemy's HP. Every card attacks by itself. If you defeat an enemy, any 
                remaining cards in the attack stack will damage the following enemy if one is present.</p>
    
                <h3>Defense Phase</h3>
                <p>In the defense phase, the enemy attacks and you must place cards in the Defense Stack to block as much damage as possible. 
                The combined Defense Value of the cards you play will reduce the damage dealt by the enemy's Attack Power. After 
                calculations, any leftover damage will be subtracted from your HP.</p>
    
                <h3>Card Attributes</h3>
                <p>• Attack Value: The card's power when used offensively in the Attack Phase.<br>
                • Defense Value: The card's power when used defensively in the Defense Phase.<br>
                • Special Skill: A card's unique skill, which can be triggered depending on the phase.<br>
                • Skill Duration: How long the skill remains in effect after being activated.</p>

                <img class="big-screenshot" src="assets/images/help/card-explained.webp" alt="Screenshot of the card explanation">
    
                <h3>Special Skills</h3>
                <p>Cards and enemies may also have one of the following Special Skills, which are randomly assigned and can have a profound impact on the battle:<br>
                • Healing over Time (HoT): Gradually restores health to the player or enemy over a set amount of turns.<br>
                • Damage over Time (DoT): Inflicts damage on the player or enemy over a number of turns.<br>
                • Stun: Temporarily disables the player or enemy, preventing them from attacking or defending for a set amount of turns.<br>
                • Heal: Instantly restores a chunk of HP to either the player or the enemy.<br>
                The special skills of your cards are only triggered during the appropriate phase. For instance, a skill designed for the attack phase 
                will only activate during the attack phase, and the same applies to the defense phase. The strength and duration of each skill are 
                determined randomly when the card is drawn.</p>
    
                <h3>Win and Loss Conditions</h3>
                <p>• Victory: You win if the enemy's HP is reduced to 0.<br>
                • Defeat: You lose if your HP reaches 0 or if you run out of cards to play.</p>
    
                <h3>Buttons</h3>
                <p>To ensure smooth gameplay, the following buttons will help you navigate each phase:</p>
    
                <h4>Add Card Button:</h4>
                <p>Use this button to add a card to your current stack (Attack Stack in the Attack Phase, Defense Stack in the Defense Phase).</p>

                <img class="small-screenshot" src="assets/images/help/add-card-button.webp" alt="Screenshot of the add card button">
    
                <h4>Undo Button:</h4>
                <p>Allows you to undo your last action. If you accidentally added the wrong card to your stack, this button will let you correct your move.</p>

                <img class="small-screenshot" src="assets/images/help/undo-button.webp" alt="Screenshot of the undo button">
    
                <h4>Start Fight Button:</h4>
                <p>When you've finished placing your cards for a phase (either attack or defense), hit this button to calculate the results and proceed to the next phase.</p>

                <img class="small-screenshot" src="assets/images/help/start-fight-button.webp" alt="Screenshot of the start fight button">
    
                <h3>Hints</h3>
                <p>Every participant has exactly one slot for either a HoT or DoT effect. Try to counter or preempt enemy actions with this.<br>
                Additionally, use the card's special skills for any given situation. A card may have a small attack value, but may possess a 
                strong effect when you play it in the Attack Phase anyway.</p>
    
            </div>

        </div>

        <!-- Help Popup End -->
            
        <main>

            <div id="health-area">

                <div id="health-wrapper">

                    <p>Player: <span id="player-health">0</span></p>
                    <p id="separate"><i class="fa-solid fa-heart"></i></p>
                    <p>Enemy: <span id="enemy-health">0</span></p>

                </div>

            </div>

            <!-- Battlefield Area Start -->

            <section id="battlefield">

                <!-- Player Area -->

                <div id="player-area">

                    <!-- Card Placement Area Start -->

                    <div id="player-card-placement">

                        <!-- Card Start -->

                        <div id="card">

                            <div id="card-image">

                                <div id="damage-number-player"></div>

                            </div>

                            <!-- Container for card stats -->
                
                            <div id="card-container">
                
                                <div id="attack">
                
                                    <p id="show-attack"><i class="fa-solid fa-skull"></i> 0</p>
                
                                </div>
                
                                <div id="defense">
                
                                    <p id="show-defense">0 <i class="fa-solid fa-shield-halved"></i></p>
                
                                </div>
                
                            </div>
                
                        </div>

                        <!-- Card End -->

                        <div id="arrow-container">

                            <button aria-label="Scroll hand cards to the left" id="button-left" onclick="scrollCards(-1)"><i class="fa-solid fa-arrow-left"></i></button>
                            <span id="current-card">0</span> / <span id="hand-cards">0</span>
                            <button aria-label="Scroll hand cards to the right" id="button-right" onclick="scrollCards(1)"><i class="fa-solid fa-arrow-right"></i></button>

                        </div>

                    </div>

                    <!-- Card Placement Area End -->

                    <!-- Card Description Start -->

                    <div id="player-card-desc">

                        <h2 id="show-name">NAME</h2>

                        <p id="show-player-stun"></p>
                        <p id="show-player-effect"></p>

                        <p id="show-description">DESCRIPTION</p>

                        <p id="show-special-description">SPECIAL</p>

                        <!-- Container for phase actions -->

                        <div id="button-container">

                            <button aria-label="Add cards to attack stack" id="add-cards" onclick="addCard(handCards[currentCard])"><i class="fa-solid fa-plus"></i></button>
                            <button aria-label="Undo last addition" id="undo-add" onclick="undoAdd()"><i class="fa-solid fa-rotate-left"></i></button>
                            <button aria-label="Start fighting phase" id="start-attack" onclick="startAttack()"><i class="fa-solid fa-check"></i></button>

                        </div>

                    </div>

                    <!-- Card Description End -->
                        
                </div>

                <!-- Battle Score Start -->

                <div id="score">

                    <p id="phase">Attack</p>
                    <p>Deck<br><span id="remaining-cards">0</span></p>
                    <p>Enemies<br><span id="remaining-enemies">0</span></p>
                    <p>Power<br><span id="attack-strength">0</span> (-<span id="defense-strength">0</span>%)</p>
                    <p>Damage<br><span id="calculated-damage">0</span></p>

                </div>

                <!-- Battle Score End -->

                <!-- Enemy Area -->

                <div id="enemy-area">

                    <div id="enemy-card-desc">

                        <h2 id="enemy-name">NAME</h2>
                        <p id="enemy-attack"><i class="fa-solid fa-skull"></i> X</p>
                        <p id="enemy-defense">X <i class="fa-solid fa-shield-halved"></i></p>
                        <p id="show-enemy-effect"></p>
                        <p id="show-enemy-stun"></p>
                        <p id="enemy-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum, necessitatibus!</p>
                        <p id="enemy-special-description"></p>

                    </div>

                    <div id="enemy-card-placement">

                        <div id="enemy-image">

                            <div id="damage-number-enemy"></div>
                            
                        </div>

                    </div>

                </div>

            </section>

            <!-- Battlefield Area End -->

            <button id="info-button" aria-label="Information button" onclick="clickPopup()"><i class="fa-solid fa-circle-info"></i></button>

        </main>

        <!-- Script Import -->

        <script src="assets/js/Skill.js"></script>
        <script src="assets/js/Card.js"></script>
        <script src="assets/js/Enemy.js"></script>
        <script src="assets/js/scripts.js"></script>

        <!-- Fontawesome Import -->

        <script src="https://kit.fontawesome.com/b267705d2e.js" crossorigin="anonymous"></script>
        
    </body>

    <!-- Body End -->

</html>